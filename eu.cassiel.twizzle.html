<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>eu.cassiel.twizzle documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Twizzle 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>eu</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cassiel</span></div></div></li><li class="depth-3 current"><a href="eu.cassiel.twizzle.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>twizzle</span></div></a></li><li class="depth-4"><a href="eu.cassiel.twizzle.interpolators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpolators</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-apply-fade"><div class="inner"><span>apply-fade</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-apply-to-channels"><div class="inner"><span>apply-to-channels</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-automate-at"><div class="inner"><span>automate-at</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-automate-by"><div class="inner"><span>automate-by</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-initial"><div class="inner"><span>initial</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-locate"><div class="inner"><span>locate</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-purge"><div class="inner"><span>purge</span></div></a></li><li class="depth-1"><a href="eu.cassiel.twizzle.html#var-sample"><div class="inner"><span>sample</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">eu.cassiel.twizzle</h2><div class="doc"><div class="markdown"><p>The Adventures of Twizzle, a simple timeline automation system.</p></div></div><div class="public anchor" id="var-apply-fade"><h3>apply-fade</h3><div class="usage"><code>(apply-fade interp {:keys [start dur target]} ts current)</code></div><div class="doc"><div class="markdown"><p>Apply a fade to a current value, return new current value (unchanged if fade in the future).</p><p>Edge conditions tweaked to allow zero-length fades, as well as gate-style interpolators.</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L31">view source</a></div></div><div class="public anchor" id="var-apply-to-channels"><h3>apply-to-channels</h3><div class="usage"><code>(apply-to-channels state f)</code></div><div class="doc"><div class="markdown"><p>Apply function to (fades, current, interp) of all channels.</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L24">view source</a></div></div><div class="public anchor" id="var-automate-at"><h3>automate-at</h3><div class="usage"><code>(automate-at state ch start-ts dur target)</code></div><div class="doc"><div class="markdown"><p>Add an automation fade to a channel <code>ch</code>. The fade starts at time, <code>ts</code>, lasts for <code>dur</code> frames and fades from the current value to <code>target</code>.</p><p>If this fade lies totally in front of (earlier than) the current timestamp, it&rsquo;ll be chased and removed; otherwise it&rsquo;ll be interpolated if it&rsquo;s in scope.</p><p>Returns a new state.</p><p>Don&rsquo;t overlap fades. Bad things will happen.</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L63">view source</a></div></div><div class="public anchor" id="var-automate-by"><h3>automate-by</h3><div class="usage"><code>(automate-by state ch offset-ts dur target)</code></div><div class="doc"><div class="markdown"><p>Start fade at an offset from current location.</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L82">view source</a></div></div><div class="public anchor" id="var-initial"><h3>initial</h3><div class="usage"><code>(initial &amp; {:keys [init interp]})</code></div><div class="doc"><div class="markdown"><p>Initial system state. Takes an optional map of starting values for channels which, in front of any fades, we want to be other than zero, and an optional map of interpolation functions.</p><p>We fold the interp functions into the channels.</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L5">view source</a></div></div><div class="public anchor" id="var-locate"><h3>locate</h3><div class="usage"><code>(locate state ts)</code></div><div class="doc"><div class="markdown"><p>Change the location of this state to timestamp <code>ts</code>, returning a new state. Expired fades will be applied at their last points and purged (so winding time back again will not restore them).</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L87">view source</a></div></div><div class="public anchor" id="var-purge"><h3>purge</h3><div class="usage"><code>(purge {:keys [fades current interp], :as channel} ts)</code></div><div class="doc"><div class="markdown"><p>Purge a channel; remove all expired fades, chasing them (and updating <code>:current</code>) as we go.</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L45">view source</a></div></div><div class="public anchor" id="var-sample"><h3>sample</h3><div class="usage"><code>(sample {:keys [channels time]} ch)</code></div><div class="doc"><div class="markdown"><p>Sample a channel <code>ch</code> at the state&rsquo;s current time. Assume purged (i.e. no fades are completely in front of the sample point).</p></div></div><div class="src-link"><a href="http://github.com/cassiel/twizzle/blob/master/src/eu/cassiel/twizzle.clj#L96">view source</a></div></div></div></body></html>